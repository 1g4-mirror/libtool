2010-08-27  Gary V. Vaughan  <gary@gnu.org>

	maint: add gnulib submodule.
	* configure.ac (GL_INIT, GL_EARLY): Initialise gnulib, and expand
	its configure time checks.
	* .gitmodules (gnulib): New file with configuration for our
	gnulib git submodule.

2010-09-01  Gary V. Vaughan  <gary@gnu.org>

	maint: don't run help2man on programs not-yet-built.
	* Makefile.am (doc/libtool.1, doc/libtoolize.1): Added a
	comment about why the dependencies here have to be a mite
	bizarre.

2010-09-26  Gary V. Vaughan  <gary@gnu.org>

	tests: remove unused `aux_dir' variable from `getopt-m4sh.test'.
	* tests/getopt-m4sh.at (aux_dir): Remove unused variable.

2010-09-26  Gary V. Vaughan  <gary@gnu.org>

	tests: DRYing out `tests/sh.test'.
	* Makefile.am (libtool_m4): Canonical location of libtool.m4 file.
	(lt_aclocal_m4_deps): Use it.

2010-09-23  Gary V. Vaughan  <gary@gnu.org>

	maint: pass directory declarations in configure.ac into Makefile.
	* configure.ac (AC_CONFIG_AUX_DIR, LT_CONFIG_LTDL_DIR)
	(AC_CONFIG_MACRO_DIR): Append code to these functions to
	capture and propagate their directory arguments to Makefile.
	* Makefile.am (aux_dir, ltdl_dir, macro_dir): Remove declarations.
	* bootstrap (my_sed_trace): Also capture LT_CONFIG_LTDL_DIR into
	`$ltdl_dir'.
	<Makefile>: Output the extracted values of `aux_dir', `ltdl_dir'
	and `macro_dir' at the top of the quick'n'dirty bootstrap
	Makefile.

2010-09-26  Gary V. Vaughan  <gary@gnu.org>

	maint: factor out ltmain.sh variable deletion.
	* Makefile.am (ltmain_sh_edit): Expand upon bootstrap edit by
	adding the extra line to delete boilerplate variable settings
	from libltdl/config/general.m4sh that don't apply here.
	(libltdl/config/ltmain.sh): Use it.

2010-09-25  Gary V. Vaughan  <gary@gnu.org>

	maint: DRYing out `Makefile.am' file paths.
	* Makefile.am (aux_dir, macro_dir): Include `$(srcdir)' in
	declaration. Adjust all references.
	(doc_dir, ltdl_dir, m4sh_dir, tests_dir): New single location
	to hold directory paths, all including `$(srcdir)', to reduce
	typing.
	(LT_M4SH): Use `$m4sh_dir' as include directory.
	(defs): This one is for a file in the build-tree, so no
	leading `$(srcdir)'.

2010-09-25  Gary V. Vaughan  <gary@gnu.org>

	CLEANUP: fix error from pushing too far up the branch.
	* Makefile.am (install-data-local): Undo character transposition
	from too early push of untested v2.4-17-gaf74d58.

2010-09-23  Gary V. Vaughan  <gary@gnu.org>

	maint: use macro_dir consistently in all files.
	* Makefile.am: Replace all uses of m4dir with macrodir to
	match AC_CONFIG_MACRO_DIR.
	* libltdl/config/libtoolize.m4sh: Replace all uses of macrodir
	with macro_dir.
	* tests/defs.m4sh, tests/sh.test: Likewise.

	maint: use aux_dir consistently in all files.
	* Makefile.am, Makefile.maint: Replace all uses of auxdir
	with aux_dir to match AC_CONFIG_AUX_DIR.
	* libltdl/config/libtoolize.m4sh: Likewise.
	* tests/defs.m4sh, tests/getopt-m4sh.at: Likewise.

2010-09-24  Gary V. Vaughan  <gary@gnu.org>

	Makefile: try to be robust against shell meta-chars in filenames.
	* Makefile.am: In each rule body, unless a make variable needs
	to be seen as multiple words by the shell (for word-splitting
	loops, or because it contains several commands), quote it. Use
	single quotes unless the shell needs to perform variable inter-
	polation, in which case use double quotes.

2010-09-24  Gary V. Vaughan  <gary@gnu.org>

	maint: let make employ user's `SED' setting.
	* Makefile.am: Replace hard-coded `sed' with `$(SED)' through-
	out.

2010-08-30  Gary V. Vaughan  <gary@gnu.org>

	maint: simplify and improve safety of bootstrap process.
	* Makefile.am (bootstrap_files): List files that need to be
	generated at bootstrap time before `./configure && make' can
	work.  It turns out that this is considerably fewer files than we
	had thought necessary previously.
	(bootstrap-deps-prep): Ensure minimum set of required substitution
	variables are non-empty.
	(bootstrap-deps): Depend on `bootstrap' files.
	* bootstrap (Generate bootstrap dependencies): Now that
	`Makefile.am' is entirely responsible for rebuilding files at
	bootstrap time, we need only specify the new `bootstrap-deps'
	target, and supply values for the substitutions checked by
	`bootstrap-deps-prep'.
	* configure.ac (AC_CONFIG_SRCDIR): `libtoolize.in' is not here yet
	right after running `bootstrap'.  So rely on the presence of
	`libtoolize.m4sh', which is always there.

2010-08-31  Gary V. Vaughan  <gary@gnu.org>

	build: eliminate superfluous temporary files from `Makefile.am'.
	* Makefile.am (CLEANFILES): Remove temporary file entries.
	(libtoolize.in, libltdl/config/ltmain.sh, libltdl/m4/ltversion.m4)
	(tests/defs, tests/testsuite): Factor away temporary files.

2010-08-31  Gary V. Vaughan  <gary@gnu.org>

	build: eliminate `ltmain.in' and `libtoolize.in' intermediate files.
	* Makefile.am (libltdl/config/ltmain.sh, libtoolize.in): Pipe
	the output of `$(LT_M4SH)' directly into `$(bootstrap_edit)' to
	avoid use of superfluous intermediate file.

2010-08-31  Gary V. Vaughan  <gary@gnu.org>

	build: don't hardcode repeated long paths in Makefile rules.
	According to the DRY principle, scattering several copies of
	something across a file or project leads to pain.  Let's not
	do that!
	* Makefile.am (Makefile_in, Makefile_inc, defs_in, defs_m4sh),
	(libtoolize_in, ltmain_m4sh, ltversion_in): New variables to
	hold the location of important files and targets.
	(EXTRA_DIST): Add the distributed ones by variable.
	(libtoolize, libltdl/Makefile.am, libltdl/m4/ltversion.m4)
	(libltdl/config/ltmain.sh, libltdl/stamp-mk, tests/defs)
	(tests/defs.in): Use the new variables to reduce noise and
	repetition.

2010-08-31  Gary V. Vaughan  <gary@gnu.org>

	build: make better use of automatic variables in `Makefile.am'.
	* Makefile.am (libtoolize, libtoolize.in, libltdl/Makefile.am)
	(libltdl/config/mkstamp, libltdl/config/ltmain.m4sh)
	(libltdl/m4/ltversion.m4, tests/testsuite, tests/defs.in):
	Make better use of automatic variables.

2010-08-31  Gary V. Vaughan  <gary@gnu.org>

	build: name temporary files in `Makefile.am' consistently.
	Sadly, we still have to jump through hoops for MICROS~1's very
	old, very broken 8.3 naming convention, so we have to be careful
	to be unique in the first 8 letters, and not to use two periods
	in a filename, otherwise we could use the much more elegent
	`temporary files use "$@T"' idiom:
	* Makefile.am (libltdl/m4/ltversion.m4): Rename temporary file
	to `ltversion.tmp'.
	(libltdl/config/ltmain.sh): Rename temporary file to
	`libltdl/config/ltmain.tmp'.
	(libtoolize): Rename temporary file to `libtoolize.tmp'.
	(tests/defs): Rename temporary file to `tests/defs.tmp'
	(tests/testsuite): Rename temporary file to `tests/testsuite.tmp'.
	(CLEANFILES): Append temporary files as we create rules that
	use them.

2010-08-31  Gary V. Vaughan  <gary@gnu.org>

	build: factor Makefile.am `m4sh' invocations to LT_M4SH.
	* Makefile.am (LT_M4SH): Now that all directories are listed as
	fully qualified paths, the search path argument to M4SH is always
	the same, so factor it out into a variable.  Adjust all callers.

2010-08-31  Gary V. Vaughan  <gary@gnu.org>

	build: avoid unnecessary directory changes in Makefile rules.
	* Makefile.am (doc/notes.txt, libltdl/m4/ltversion.m4,
	(libltdl/config/ltmain.m4sh, libtoolize.in, libltdl/Makefile.am)
	(libltdl/config/mkstamp, tests/testsuite, tests/defs.in): Avoid
	unnecessary `cd' commands by using fully qualified paths to files
	outside of current directory.

2010-08-31  Gary V. Vaughan  <gary@gnu.org>

	build: compare `revision' rather than `correctver' in Makefile.am.
	* Makefile.am (rebuild): Set the shell variable `revision' rather
	than `correctver' for clarity of purpose.
	(bootstrap_edit, libltdl/config/ltmain.sh): Adjust.
	(libltdl/m4/ltversion.m4): Likewise, and alse, instead of munging
	the serial number comment line with set, extract `macro_version'
	from this file, and compare it directly with `revision'.
	(libtool): Likewise for `package_revision'.

2010-10-20  Gary V. Vaughan  <gary@gnu.org>

	build: avoid spurious bootstrap_edit call.
	* Makefile.am (tests/package.m4): @FOO@ substitutions have already
	been made by the time Makefile.am has been transformed into Makefile,
	so don't try to rerun the substitutions manually with
	$(bootstrap_edit) after the fact.

2011-10-17  Gary V. Vaughan  <gary@gnu.org>

	Post-release administrivia.
	* configure.ac, libltdl/configure.ac (AC_INIT): Bump version
	numbers.
	* NEWS: Add header line for next release.

	Release 2.4.2.
	* configure.ac, libltdl/configure.ac (AC_INIT): Bump version
	numbers.
	* NEWS: Update version number.

	Replace leading spaces with tabs.
	* libltdl/m4/libtool.m4, libltdl/config/ltmain.m4sh: Replace leading
	spaces in soure code with tabs to match surrounding code.
	Reported by Peter Rosin.

	Make a note to use gnu/linux for version_type.
	* libltdl/m4/libtool.m4 (version_type): Add a comment to change
	version_type setting from 'linux' to 'gnu/linux' during the next
	destabilising code refactoring.
	* libltdl/config/ltmain.m4sh: ditto.
	Requested by Richard Stallman.

2011-10-04  Bart Van Assche <bvanassche@acm.org>

	Typo fix - change func_apped into func_append
	* libltdl/config/ltmain.m4sh: Fix typo.

2011-10-02  Xin LI <d@delphij.net>

	Avoid problems when FreeBSD goes to version 10.
	* libltdl/m4/libtool.m4: Remove mentions of freebsd1. Use dots
	for FreeBSD 2 and 3 detection to avoid future problems
	* libltdl/m4/ltmain.m4sh: ditto.

2011-09-25  Cristophe Jarry <christophe.jarry@ouvaton.org>

	Avoid mentioning "Linux", use "GNU/Linux", if appropriate.
	* TODO: Don't use bare "Linux".
	* doc/libtool.texi: ditto.
	* doc/notes.texi: ditto.
	* libltdl/README: ditto.
	* libltdl/m4/libtool.m4: ditto.

2011-09-01  Peter O'Gorman  <peter@pogma.com>

	Add flag to inhibit warnings.
	* libltdl/config/ltmain.m4sh: Add --no-warn, --no-warning flags.
	Reported by John Davd Anglin.

2011-04-10  Kurt Roeckx  <kurt@roeckx.be>

	tagdemo: do not rely on picking up symbols from indirect deps.
	* tests/tagdemo/Makefile.am: Link to all libraries that the
	demo application uses.

2011-04-10  Svante Signell  <srs@kth.se>  (tiny change)

	Set shlibpath_overrides_runpath for the Hurd.
	* libltdl/m4/libtool.m4 (_LT_SYS_DYNAMIC_LINKER) [gnu]
	<shlibpath_overrides_runpath>: Set to no.
	* THANKS: Update.

2011-03-22  Justin Lecher  <jlec@gentoo.org>  (tiny change)
	    Rhys Ulerich  <rhys.ulerich@gmail.com>  (tiny change)

	Don't filter OPENMP flags (-openmp & -fopenmp) from linker lines.
	* libltdl/config/ltmain.m4sh (func_mode_link): Treat OpenMP
	flags like pthreads flags.

2011-03-14  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>

	libtoolize: detect -I<dir> (without space) in ACLOCAL_AMFLAGS.
	* libtoolize.m4sh (func_scan_files): Also accept -I<dir>
	(without intervening space) in ACLOCAL_AMFLAGS.
	* THANKS: Update.
	Report from Jan Engelhardt.

2011-03-04  Peter O'Gorman  <peter@pogma.com>

	On Mac OS X try .dylib as well as .so with lt_dlopenext
	* libltdl/m4/ltdl.m4: Define extra extension if module extension
	differs from shared lib extension.
	* libltdl/ltdl.c: Use it.
	* tests/darwin.at: Test it.
	* NEWS: Announce it.
	Reported by Hans Aberg, Michael Ellis, and others.

2011-02-12  Peter O'Gorman  <peter@pogma.com>

	Install ltmain.sh without execute bit set.
	* Makefile.am: change install rule for ltmain.sh
	Reported by Křištof Želechovski.

2011-02-07  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>

	docs: fix copyright years in PDF version of the manual.
	* doc/libtool.texi: Fix copyright years.

2011-02-01  Rainer Orth  <ro@CeBiTec.Uni-Bielefeld.DE>  (tiny change)

	Fix LD setting for 64-bit Solaris 2/x86.
	* libltdl/m4/libtool.m4 (_LT_ENABLE_LOCK) [*-*-solaris*]:
	Determine GNU ld options for 64-bit Solaris 2/x86.  Detect gld
	2.21 _sol2 emulations.

2011-01-27  Peter O'Gorman  <peter@pogma.com>

	Don't loop through wrapper script arguments unnecessarily.
	* libltdl/m4/ltmain.m4sh: Check that argv contains " --lt-"
	before looping to remove wrapper script targetted arguments.
	Performance regression reported by Dan McGee.

2011-01-20  Gerald Pfeifer  <gerald@pfeifer.com>  (tiny change)

	Remove support for FreeBSD 1.x.
	* libltdl/m4/libtool.m4 (_LT_LINKER_SHLIBS)
	(_LT_SYS_DYNAMIC_LINKER): Remove handling of freebsd1* which
	soon would incorrectly match FreeBSD 10.0.
	* NEWS, THANKS: Update.

2011-01-19  Peter O'Gorman  <peter@pogma.com>

	Don't let verbose linker messages influence test results.
	* libltdl/m4/libtool.m4 (_LT_REQUIRED_DARWIN_CHECKS): Ignore
	stderr during tests for -flag unless it contains "flag".
	* tests/darwin.at: Add test.
	Reported by Jeremy Huddleston and also by David Fang.

2011-01-09  John David Anglin  <dave.anglin@nrc-cnrc.gc.ca>  (tiny change)

	Fix relink mode to use absolute path if hardcode_minus_L.
	* libltdl/config/ltmain.m4sh (func_mode_link): Use absolute path
	when hardcoding with -L.

2011-01-09  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>

	Fix $wl setting for Solaris Studio 12.2 f90 on GNU/Linux.
	* libltdl/m4/libtool.m4 (_LT_COMPILER_PIC) [linux]
	<lt_prog_compiler_wl>: Set to '-Qoption ld ' if we
	detect Sun Fortran version 8.4 or newer.
	Report by Terry Dontje.

2011-01-07  Peter Rosin  <peda@lysator.liu.se>

	Convert file name to toolchain format when blessing archives.
	* libltdl/config/ltmain.m4sh (func_mode_install): When executing
	old_postinstall_cmds and old_archive_cmds, convert $oldlib to a
	format appropriate for the tool and provide that in $tool_oldlib.
	Also use $tool_oldlib when stripping old libraries.
	* libltdl/m4/libtool.m4 (_LT_CMD_OLD_ARCHIVE): Use $tool_oldlib
	as argument to $RANLIB.
	* THANKS: Update.
	Report by Dan McMahill.

2011-01-02  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>

	Bump copyright years.
	* ChangeLog.2010: New, rotated from ...
	* ChangeLog: ... here.
	* Makefile.am (EXTRA_DIST): Add ChangeLog.2010.
	* NEWS, libltdl/config/ltmain.m4sh: Bump copyright years.
	* libltdl/m4/libtool.m4 (_LT_COPYING, LT_OUTPUT): Likewise.
	* libtoolize.m4sh: Likewise.
	* doc/libtool.texi: Likewise.

Continued in ChangeLog.2010
-- 
  Copyright (C) 1996, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005,
  2006, 2007, 2008, 2009, 2011 Free Software Foundation, Inc.

  This file is part of GNU Libtool.

Copying and distribution of this file, with or without modification,
are permitted in any medium without royalty provided the copyright
notice and this notice are preserved.  This file is offered as-is,
without warranty of any kind.

vim:tw=72
